---
const repo = import.meta.env.PUBLIC_GISCUS_REPO
const repoId = import.meta.env.PUBLIC_GISCUS_REPO_ID
const category = import.meta.env.PUBLIC_GISCUS_CATEGORY
const categoryId = import.meta.env.PUBLIC_GISCUS_CATEGORY_ID
const isEnabled = Boolean(repo && repoId && category && categoryId)
---

{isEnabled && (
  <div class="mt-12">
    <script
      is:inline
      src="https://giscus.app/client.js"
      data-repo={repo}
      data-repo-id={repoId}
      data-category={category}
      data-category-id={categoryId}
      data-mapping="pathname"
      data-strict="0"
      data-reactions-enabled="1"
      data-emit-metadata="0"
      data-input-position="bottom"
      data-theme="preferred_color_scheme"
      data-lang="zh-CN"
      crossorigin="anonymous"
      async
    ></script>
  </div>
)}
